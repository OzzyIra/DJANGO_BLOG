{% extends 'app/shop/base.html' %}

{% block shop_content %}

<div class="row">
    <div class="col-md-6">
        <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                {% for image in images %}
                <button
                        type="button"
                        data-bs-target="#productCarousel"
                        data-bs-slide-to="{{forloop.counter0}}" {% if forloop.first %} class="active" {% endif %}
                        aria-current="true" aria-label="slide {{forloop.counter}}"
                >

                </button>

                {% endfor %}
            </div>
            <div class="carousel-inner">
                {% for image in images %}
                <div class="carousel-item {% if forloop.first %} active{% endif %}">
                    <img src="{{image.image.url}}" class="d-block w-100"
                         alt="{{product.name}} - Изображение {{forloop.counter}}">
                </div>
                {% endfor %}
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Предыдущее</span>

            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Следующее</span>

            </button>
        </div>

    </div>
</div>


<div class="col-md-6">
    <h1>{{product.name}}</h1>
    <p class="load"><strong>{{product.price}} рублей.</strong></p>
    <p class="text-muted">
        Категория: <a href="{% url 'shop_category' product.category.id %}">{{product.category.name}}</a>
    </p>
    <hr>
    <!--Форма для добавления в корзину и для оформления заказов        -->
    <form method="post" action="{% url 'shop_checkout' product.id %}">
        {% csrf_token %}
        <div class="mb-3">
            <label for="quantity" class="form-label">Количество: </label>
            <input type="number" class="form-control" id="quantity" name="quantity" value="1" min="1">
        </div>
        <button type="submit" class="btn btn-success">Купить</button>
    </form>

</div>
</div>

{% endblock %}